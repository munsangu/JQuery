<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery Element Traversing</title>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <style>
        .container * {
            display: block;
            border: 1px solid lightgray;
            padding: 5px;
            margin: 15px;
        }
    </style>
</head>

<body>
    <h1>트리 탐색</h1>
    <p>특정 요소로부터 다른 요소들과의 관계를 통해 선택하길 원하는 요소까지 DOM트리를 검색해 나아가는 과정</p>
    <ol>
        <li>조상 요소 탐색</li>
        <li>형제 요소 탐색</li>
        <li>자손 요소 탐색</li>
    </ol>

    <h1>조상 요소의 탐색</h1>
    <h2>parent()</h2>
    <p>
        선택한 요소의 부모 요소를 선택<br>
        선택자를 인수로 전달하여, 전달받은 선택자에 해당하는 부모 요소만을 선택할 수도 있음
    </p>
    <button id="parent_btn">p요소의 부모 요소</button>
    <div class="container">
        <div>div요소
            <div>div요소
                <ul>ul요소
                    <li>li요소</li>
                    <li>
                        li요소
                        <p class="point">p 요소(기준)
                            <span>span 요소</span>
                        </p>
                    </li>
                    <li>li요소</li>
                </ul>
            </div>
        </div>
    </div>
    <script>
        $(function() {
            $("#parent_btn").on("click", function() {
                $(".point").parent() // <p>요소의 부모 요소를 선택함.
                .css({"border": "2px solid red"})
            })
        })
    </script>

    <h2>parents()</h2>
    <p>
        선택한 요소의 조상 요소를 모두 선택<br>
        선택자를 인수로 전달하여, 전달받은 선택자에 해당하는 조상 요소만을 선택할 수도 있음
    </p>
    <button id="parents_btn">p요소의 조상 요소</button>
    <script>
        $(function() {
            $("#parents_btn").on("click", function() {
                $(".point").parents("div")  //.point요소의 조상 요소 중에서 <div>요소를 모두 선택함
                .css({"border": "2px solid red"})
            })
        })
    </script>

    <h2>parentsUntil()</h2>
    <p>
        선택한 요소의 조상 요소중에서 전달받은 선택자에 해당하는 요소 바로 이전까지의 요소만을 모두 선택<br>
        선택자를 인수로 전달하지 않으면, parent()와 같이 선택한 요소의 조상 요소를 모두 선택
    </p>
    <button id="parentsUntil_btn">p요소의 조상 요소</button>
    <script>
        $(function() {
            $("#parentsUntil_btn").on("click", function() {
                // .point요소의 조상 요소 중에서 첫 번째 <div>요소의 바로 이전까지의 요소를 모두 선택함
                $(".point").parentsUntil("div").css({"border": "2px solid red"})
            })
        })
    </script>

    <h2>closest()</h2>
    <p>
        자신을 포함한 조상 요소 중에서 전달받은 선택자에 해당하는 요소의 집합에서 가장 첫 번째 요소를 선택<br>
        이 메소드가 요소의 집합을 구하는 방식은 parents()와 비슷하지만, 해당 요소의 조상 요소뿐만 아니라 해당 요소 자신까지도 검사
    </p>
    <button id="closest_btn">closest()</button>
    <div class="container">
        <div>div요소
            <div>div요소
                <ul>ul요소
                    <li>li요소</li>
                    <li>
                        li요소
                        <div id="origin">div 요소(기준)
                            <span>span 요소</span>
                        </div>
                    </li>
                    <li>li요소</li>
                </ul>
            </div>
        </div>
    </div>
    <script>
        $(function() {
            $("#closest_btn").on("click", function() {
                // id가 origin인 요소 자신과 조상 요소 중에서 첫번째 div 요소를 선택
                $("#origin").closest("div").css({"border":"2px solid green"})
            })
        })
    </script>

    <h1>형제 요소의 탐색</h1>
    <h2>siblings()</h2>
    <p>선택한 요소의 형제 요소 중에서 지정한 선택자에 해당하는 요소를 모두 선택</p>
    <button id="siblings_btn">h4 요소의 형제 요소</button>
    <div class="container">
        <div>div</div>
        <h2>h2</h2>
        <h3>h3</h3>
        <h4>h4(기준)</h4>
        <h5>h5</h5>
        <h6>h6</h6>
        <p>p</p>
    </div>
    <script>
        $(function() {
            $("#siblings_btn").on("click", function() {
                // h4 요소의 형제 요소를 모두 선택
                $("h4").siblings().css({"border":"2px solid red"})
            })
        })
    </script>

    <h2>next()</h2>
    <p>선택한 요소의 바로 다음에 위치한 형제 요소를 선택</p>
    <button id="next_btn">h4 요소의 형제 요소</button>
    <script>
        $(function() {
            $("#next_btn").on("click", function() {
                $("h4").next().css({"border":"2px solid blue"})
            })
        })
    </script>

    <h2>nextAll()</h2>
    <p>선택한 요소의 다음에 위치한 형제 요소를 모두 선택<br> 선택자를 인수로 전달하여, 전달받은 선택자에 해당하는 형제 요소만을 선택할 수도 있음</p>
    <button id="nextAll_btn">h4 요소의 형제 요소</button>
    <script>
        $(function() {
            $("#nextAll_btn").on("click", function() {
                $("h4").nextAll().css({"border": "2px solid yellow"})
            })
        })
    </script>

    <h2>nextUntil()</h2>
    <p>선택한 요소의 형제 요소 중에서 전달받은 선택자에 해당하는 요소 바로 이전까지의 요소만을 모두 선택<br> 선택자를 인수로 전달하지 않으면, nextAll()과 동일</p>
    <button id="nextUntil_btn">h4 요소의 형제 요소</button>
</body>

</html>